(function(){"use strict";angular.module("app.rgbLedSequencer",[])})(),function(){"use strict";function n(n,t){function u(){var n,r,t,u,f;if(i.stepCount=Math.max(1,Math.min(i.stepCount,i.maxStepCount)),i.currentPreviewStep>i.stepCount&&(i.currentPreviewStep=1),i.currentStep>i.stepCount&&(i.currentStep=i.stepCount),t=i.stepCount-i.sequence.length,t>0)for(n=0;n<t;++n){for(u=[],r=0;r<i.rgbLedCount;++r)u.push({index:r,value:"#000000"});f={colors:u,stepDelay:0};i.sequence.push(f)}else if(t<0)for(n=0;n>t;--n)i.sequence.pop()}function f(){function u(){i.enqueueSuccess=!0;i.addingSequence=!1;r()}function f(n){i.hasError=!0;i.addingSequence=!1;i.errorMessage=n.statusText}i.hasError=!1;i.enqueueSuccess=!1;i.addingSequence=!0;var n={sequenceName:i.sequenceName,sequenceIndex:i.sequenceIndex,steps:i.sequence};t.enqueueSequence(n).then(u).catch(f)}function e(){t.sendNextSequence()}function r(){function n(n){n.pageNumber===i.currentPage&&(i.totalItemCount=n.totalItemCount,i.pageNumber=n.pageNumber,i.pageSequenceQueue=n.pageSequenceQueue,i.pageLoading=!1)}i.pageLoading=!0;t.getSequenceQueuePage(i.currentPage).then(n)}function o(){function f(){var n,t;i.stepCount>=1&&i.stepCount<=i.maxStepCount&&(n=(new Date).getTime(),r+=n-u,u=n,t=i.sequence[i.currentPreviewStep-1].stepDelay,r>t&&(r=0,++i.currentPreviewStep,i.currentPreviewStep>i.stepCount&&(i.currentPreviewStep=1)))}var r=0,u=(new Date).getTime(),t;angular.isDefined(t)||(t=n(f,100));i.$onDestroy=function(){angular.isDefined(t)&&n.cancel(t)}}function s(){i.sequence=[{colors:[{index:0,value:"#FF0000"},{index:1,value:"#000000"},{index:2,value:"#000000"},{index:3,value:"#000000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#FF0000"},{index:2,value:"#000000"},{index:3,value:"#000000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#000000"},{index:2,value:"#FF0000"},{index:3,value:"#000000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#000000"},{index:2,value:"#000000"},{index:3,value:"#FF0000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#000000"},{index:2,value:"#000000"},{index:3,value:"#000000"},{index:4,value:"#FF0000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#000000"},{index:2,value:"#000000"},{index:3,value:"#FF0000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#000000"},{index:2,value:"#FF0000"},{index:3,value:"#000000"},{index:4,value:"#000000"}],stepDelay:0},{colors:[{index:0,value:"#000000"},{index:1,value:"#FF0000"},{index:2,value:"#000000"},{index:3,value:"#000000"},{index:4,value:"#000000"}],stepDelay:0}];i.stepCount=i.sequence.length}function h(n){return new Date(n).toLocaleString()}var i=this;i.sequenceCount=10;i.rgbLedCount=5;i.maxStepCount=770;i.maxStepDelay=65535;i.totalItemCount=0;i.currentPage=1;i.pageCount=1;i.pageSequenceQueue=[];i.pageLoading=!1;i.sequence=[];i.sequenceName="";i.sequenceIndex=0;i.stepCount=100;i.currentStep=1;i.currentPreviewStep=1;i.addingSequence=!1;i.hasError=!1;i.enqueueSuccess=!1;i.errorMessage="";i.syncSteps=u;i.enqueueSequence=f;i.sequenceQueuePageChanged=r;i.getLocalDate=h;i.sendNextSequence=e;s();u();o();r()}angular.module("app.rgbLedSequencer").controller("rgbLedSequencerController",["$interval","rgbLedSequencerDataService",n])}(),function(){"use strict";function n(n,t){function i(i){function r(n){t.error("XHR Failed for enqueueSequence.");throw n;}return n.post("/RgbLedSequencer/EnqueueSequence",JSON.stringify(i)).catch(r)}function r(i){function r(n){return n.data}function u(n){t.error("XHR Failed for getSequenceQueuePage.");throw n;}return n.get("/RgbLedSequencer/SequenceQueue?pageNumber="+i).then(r).catch(u)}function u(){function i(n){t.error("XHR Failed for sendNextSequence.");throw n;}return n.post("/RgbLedSequencer/SendNextSequence").catch(i)}this.enqueueSequence=i;this.getSequenceQueuePage=r;this.sendNextSequence=u}angular.module("app.rgbLedSequencer").service("rgbLedSequencerDataService",["$http","$log",n])}(),function(){"use strict";angular.module("app",["app.rgbLedSequencer","ui.bootstrap","colorpicker.module"])}();